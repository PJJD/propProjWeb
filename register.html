<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Registratieformulier Theater de Tulp</title>
<link rel="stylesheet" type="text/css" href="tulp.css">
<script src="jquery-2.0.3.min.js"></script>
<script type="text/javascript">
$( document ).ready( function() {
  $( "#postcode" ).focusout(function () {
    haalAdresGegevensOp();
  });

  $( "#huisnr" ).focusout(function () {
    haalAdresGegevensOp();
  });

  function haalAdresGegevensOp() {
    if ($( "#postcode" ).val() && $( "#huisnr" ).val()) {
      var postcode = $( "#postcode" ).val();
      var huisnr = $( "#huisnr" ).val();
      $.getJSON('http://www.ntwpracticumnet.ou.nl:8080/registratie/PostcodeServlet', {"postcode":postcode, "huisnr":huisnr}).done( function (adres) {
        $( "#plaats" ).val(adres.plaats);
        $( "#straat" ).val(adres.straat);
      });
    }
  };


  $( "#formulier" ).submit(function( event ) {
    var ok = true;
    var reg = /^[0-9]{4}[A-z]{2}$/;

    function voegFoutToe(fout) {
      $( "#fouten" ).append("<p>"+fout+"</p>");
      $( "#fouten" ).css('visibility', 'visible');
    }

    $( "#fouten" ).empty();
    $( "#fouten" ).css('visibility', 'hidden');

    if(!$( "#naam" ).val()) {
      ok = false;
      voegFoutToe("Naam is verplicht");
    };
    if(!reg.test($( "#postcode" ).val())) {
      ok = false;
      voegFoutToe("Postcode is verplicht en moet bestaan uit 4 cijfers gevolgd door 2 letters");
    };
    if(!$( "#plaats" ).val()) {
      ok = false;
      voegFoutToe("Plaats is verplicht");
    };
    if(!$( "#straat" ).val()) {
      ok = false;
      voegFoutToe("Straatnaam is verplicht");
    };
    if(!$( "#huisnr" ).val()) {
      ok = false;
      voegFoutToe("Huisnr is verplicht");
    };
    if(!$( "#email" ).val()) {
      ok = false;
      voegFoutToe("E-mailadres is verplicht");
    };
    if(!$( "#gebruiker" ).val()) {
      ok = false;
      voegFoutToe("Gebruikersnaam is verplicht");
    };
    if(!$( "#wachtwoord" ).val()) {
      ok = false;
      voegFoutToe("Wachtwoord is verplicht");
    };
    
    if (!ok) {
      event.preventDefault();
      $( "#fouten" ).show();
    };

  });
});
</script>
</head>
<body>
<div id="container">
  <div id="banner">
    <h1>Theater 'De Tulp'</h1>
    <img src="tulp.png" height="70" width="70" alt="logo theater de tulp">
  </div>
  <div id="menu">
    <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="aanbod.html">Aanbod</a></li>
    <li><a id="page" href="register.html">Registreer</a></li>
    <li><a href="contact.html">Contact</a></li>
    </ul>
  </div>
  <div id="main-content">
<form action="http://www.ntwpracticumnet.ou.nl:8080/registratie/RegistratieServlet" id="formulier" method="post" accept-charset="utf-8">
  <div id="fouten"></div>
  <div class="formline"><label for="naam">Naam:</label><input type="text" name="naam" id="naam" /></div>
  <div class="formline"><label for="postcode">Postcode:</label><input type="text" name="postcode" id="postcode" /></div>
  <div class="formline"><label for="plaats">Plaatsnaam:</label><input type="text" name="plaats" id="plaats" /></div>
  <div class="formline"><label for="straat">Straatnaam:</label><input type="text" name="straat" id="straat" /></div>
  <div class="formline"><label for="huisnr">Huisnr:</label><input type="text" name="huisnr" id="huisnr" /></div>
  <div class="formline"><label for="telefoon">Telefoonnummer:</label><input type="text" name="telefoon" id="telefoon" maxlength="10" /></div>
  <div class="formline"><label for="mobiel">Mobiel nummer:</label><input type="text" name="mobiel" id="mobiel" maxlength="10" /></div>
  <div class="formline"><label for="email">E-mailadres:</label><input type="text" name="email" id="email" /></div>
  <div class="formline"><label for="gebruiker">Gebruikersnaam:</label><input type="text" name="gebruiker" id="gebruiker" /></div>
  <div class="formline"><label for="wachtwoord">Wachtwoord:</label><input type="password" name="wachtwoord" id="wachtwoord" /></div>
  <div class="formline"><input type="submit" value="Verzend" id="verzend" /></div>
  <input type="hidden" name="url" value="jdbc:firebirdsql://www.ntwpracticumnet.ou.nl/d:/inetpub/wwwroot/propedeuseproject/databases/propprojPDE.fdb" />
</form>
</div>
  <div id="footer">
  <p>
      <img src="html5.png" height="64" width="64" alt="html5 logo"/>
      <a href="http://jigsaw.w3.org/css-validator/check/referer">
                <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
      </a>
  </p>
  </div>
</div>
</body>
</html>
